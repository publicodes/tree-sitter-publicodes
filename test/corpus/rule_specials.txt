================================================================================
Avec
================================================================================

a:
  avec:
    a: 10
    b:
      valeur: 20
      titre: Test
    c:
      somme:
      - 10
      - 20

--------------------------------------------------------------------------------

(source_file
  (rule
    rule_name: (dotted_name
      (name))
    body: (rule_body
      (s_avec
        m_name: (avec)
        (rule
          rule_name: (dotted_name
            (name))
          body: (rule_body
            (number)))
        (rule
          rule_name: (dotted_name
            (name))
          body: (rule_body
            (mechanism
              (m_unary
                m_name: (m_unary_name)
                (number)))
            (meta
              meta_name: (meta_name)
              meta_value: (meta_value
                (text_line)))))
        (rule
          rule_name: (dotted_name
            (name))
          body: (rule_body
            (mechanism
              (m_array
                m_name: (m_array_name)
                (number)
                (number)))))))))

================================================================================
Avec - 2 (TODO)
:skip
================================================================================

rule:
  avec:
    agent commercial:
      description: |
        L’agent commercial négocie et/ou conclut des contrats de vente, d’achat, de location ou de prestation de services pour le compte d’un tiers (producteur, industriel, commerçant, etc.). Il s’agit donc d’un intermédiaire de commerce qui, contrairement au VRP (vendeur, représentant et placier), est un professionnel indépendant.
      question: Exercez-vous votre activité en tant qu'agent commercial ?
      par défaut:
        valeur: non
        variable manquante: entreprise . activités
      références:
        'Devenir agent commercial : pourquoi et comment obtenir ce statut ?': https://www.economie.gouv.fr/entreprises/agent-commercial-immatriculation
        'Agent commercial - Réglementation': https://bpifrance-creation.fr/activites-reglementees/agent-commercial

--------------------------------------------------------------------------------

(source_file
  (rule
    (dotted_name
      (name))
    (rule_body
      (s_avec
        (avec)
        (rule
          (dotted_name
            (name))
          (rule_body
            (meta
              (meta_name)
              (meta_value
                (paragraph)))
            (meta
              (meta_name)
              (meta_value
                (text_line)))
            (mechanism
              (m_unary
                (m_unary_name)
                (mechanism
                  (m_unary
                    (m_unary_name)
                    (boolean)))
                (custom_meta
                  (meta_value
                    (text_line)))))
            (meta
              (meta_name)
              (meta_value
                (object
                  (meta_value
                    (text_line))
                  (meta_value
                    (text_line)))))))))))

================================================================================
remplace - 1
================================================================================

a:
  remplace: b
b:
  remplace:
    - c
    -
      références à: a
  titre: Test

--------------------------------------------------------------------------------

(source_file
  (rule
    rule_name: (dotted_name
      (name))
    body: (rule_body
      (s_remplace
        m_name: (remplace)
        (reference
          (dotted_name
            (name))))))
  (rule
    rule_name: (dotted_name
      (name))
    body: (rule_body
      (s_remplace
        m_name: (remplace)
        (reference
          (dotted_name
            (name)))
        (références_à)
        ref: (reference
          (dotted_name
            (name))))
      (meta
        meta_name: (meta_name)
        meta_value: (meta_value
          (text_line))))))

================================================================================
remplace - 2
================================================================================

a:
  remplace:
    références à : b
    sauf dans:
      - c

  titre: Test

d:
  remplace:
    - références à: a
      dans:
      - c
      - x

--------------------------------------------------------------------------------

(source_file
  (rule
    rule_name: (dotted_name
      (name))
    body: (rule_body
      (s_remplace
        m_name: (remplace)
        (références_à)
        ref: (reference
          (dotted_name
            (name)))
        (sauf_dans)
        except: (remplace_rule_except
          (reference
            (dotted_name
              (name)))))
      (meta
        meta_name: (meta_name)
        meta_value: (meta_value
          (text_line)))))
  (rule
    rule_name: (dotted_name
      (name))
    body: (rule_body
      (s_remplace
        m_name: (remplace)
        (références_à)
        ref: (reference
          (dotted_name
            (name)))
        (dans)
        in: (remplace_rule_in
          (reference
            (dotted_name
              (name)))
          (reference
            (dotted_name
              (name))))))))
